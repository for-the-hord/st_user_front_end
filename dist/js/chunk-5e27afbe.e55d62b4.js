(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e27afbe","chunk-2d217c5f"],{"0a8a":function(t,e,n){"use strict";var a=n("528a");t.exports=function(t,e){var n=[][t];return!!n&&a((function(){n.call(null,e||function(){return 1},1)}))}},"236f":function(t,e,n){(function(e){var a=n("a546");t.exports="undefined"!=typeof e&&"process"==a(e)}).call(this,n("eef6"))},"56ea":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Aone-page2"},[e("div",{staticClass:"lefts"},[e("p",{staticClass:"size20_weights"},[t._v("试卷候选区"+t._s(t.set_points))]),e("p",{staticClass:"size16_weights"},[t._v(" 已选单选题"+t._s(t.odd_num)+"道"+t._s(t.odd_num)+"分 ， 已选多选题"+t._s(t.even_num)+"道"+t._s(2*t.even_num)+"分 ， 已选判断题"+t._s(t.judge)+"道"+t._s(3*t.judge)+"分 ， 已选总分 "),e("span",{staticClass:"zongshu"},[t._v(t._s(t.total_s))])]),e("div",{staticClass:"questions_left"},[t._l(t.$store.state.d2admin.account.filters_list,(function(n,a){return e("div",{staticClass:"item_question"},[e("div",{staticClass:"icon_lds"},[e("i",{staticClass:"el-icon-circle-close pointer",on:{click:function(e){return t.del_item(a,n)}}})]),e("p",{staticClass:"ques_content"},[e("span",{staticClass:"ques_type",staticStyle:{display:"inline-block"}},[t._v(" 【 "+t._s(t.setType(n.type))+" 】")]),e("span",{staticClass:"chaochu2",staticStyle:{width:"80%"}},[t._v(t._s(a+1)+"、 "+t._s(n.content)+" ")])]),3==n.type?e("div",[e("p",{staticClass:"zhengque item_aswer"},[e("el-radio",{staticStyle:{"text-align":"center",width:"10%","font-size":"16px"},attrs:{label:"正确"}}),e("el-radio",{staticStyle:{"text-align":"center",width:"10%","font-size":"16px"},attrs:{label:"错误"}})],1),e("p",{staticClass:"item_aswer",staticStyle:{"text-align":"left"}},[e("span",{staticClass:"bingo"},[t._v(" 正确答案为： "),e("span",[t._v(" "+t._s(t.set_pan(n.answer))+" ")])])])]):t._e(),2==n.type?e("div",[e("p",{staticClass:"flex_center_starts2 item_aswer"},t._l(n.options,(function(t){return e("el-checkbox",{attrs:{title:t.option+"."+t.content,label:t.option+"."+t.content}})})),1),e("p",{staticClass:"item_aswer",staticStyle:{"text-align":"left"}},[e("span",{staticClass:"bingo"},[t._v(" 正确答案为： 【"),t._l(n.answer,(function(n){return e("span",[t._v(" "+t._s(n)+"、")])})),t._v(" 】 ")],2)])]):t._e(),1==n.type?e("div",[e("p",{staticClass:"flex_center_starts2 item_aswer"},t._l(n.options,(function(t){return e("el-radio",{attrs:{title:t.option+"."+t.content,label:t.option+"."+t.content}})})),1),e("p",{staticClass:"item_aswer",staticStyle:{"text-align":"left"}},[e("span",{staticClass:"bingo"},[t._v(" 正确答案为： "),e("span",[t._v(" "+t._s(n.answer[0])+" ")])])])]):t._e()])})),0==t.$store.state.d2admin.account.filters_list.length?e("div",{staticStyle:{margin:"100px auto",width:"50%","text-align":"center"}},[t._v(" 暂无选中题目 ")]):t._e()],2)]),e("div",{staticClass:"rights"},[e("p",{staticClass:"size20_weights",staticStyle:{"margin-left":"20px"}},[t._v("题库")]),e("el-form",{ref:"formInline",staticClass:"demo-form-inline",staticStyle:{"margin-left":"20px"},attrs:{inline:!0,model:t.formInline}},[e("el-form-item",{staticStyle:{width:"180px"}},[e("el-input",{attrs:{clearable:"",placeholder:"题干名称"},model:{value:t.formInline.content,callback:function(e){t.$set(t.formInline,"content",e)},expression:"formInline.content"}})],1),e("el-form-item",{staticStyle:{width:"160px"}},[e("el-select",{attrs:{prop:"course_id",clearable:"",placeholder:"所属课程"},model:{value:t.formInline.course_id,callback:function(e){t.$set(t.formInline,"course_id",e)},expression:"formInline.course_id"}},t._l(t.course,(function(t){return e("el-option",{attrs:{label:t.name,value:t.id}})})),1)],1),e("el-form-item",{staticStyle:{width:"120px"}},[e("el-select",{attrs:{prop:"type",clearable:"",placeholder:"题目类型"},model:{value:t.formInline.type,callback:function(e){t.$set(t.formInline,"type",e)},expression:"formInline.type"}},[e("el-option",{attrs:{label:"全部",value:"0"}}),e("el-option",{attrs:{label:"单选",value:"1"}}),e("el-option",{attrs:{label:"多选",value:"2"}}),e("el-option",{attrs:{label:"判断",value:"3"}})],1)],1),e("el-form-item",{staticStyle:{width:"120px"}},[e("el-select",{attrs:{prop:"ability_id",clearable:"",placeholder:"能力标识"},model:{value:t.formInline.ability_id,callback:function(e){t.$set(t.formInline,"ability_id",e)},expression:"formInline.ability_id"}},t._l(t.ability,(function(t){return e("el-option",{attrs:{label:t.name,value:t.id}})})),1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getSearch()}}},[t._v("查询")])],1)],1),t.tableInfo.data.length>1?e("div",{staticClass:"questions"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"lds_new_table",staticStyle:{width:"100%",color:"white"},attrs:{data:t.tableInfo.data,"header-cell-style":t.header_style,"cell-style":t.body_style,"row-key":t.getkey},on:{"cell-mouse-enter":t.hover_table_lds,"row-click":t.goDetail,"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{prop:"content","cell-style":t.timeStyle},scopedSlots:t._u([{key:"default",fn:function(n){return[e("p",[e("span",{staticStyle:{cursor:"pointer",color:"black"}},[e("span",{staticClass:"ques_type"},[t._v(" 【 "+t._s(t.setType(n.row.type))+" 】")]),t._v(" "+t._s(n.row.content)+" ")])]),3==n.row.type?e("div",[e("p",{staticClass:"item_aswer zhengque",staticStyle:{"text-align":"left"}},[e("el-radio",{staticStyle:{"text-align":"center",width:"10%","font-size":"16px"},attrs:{label:"正确"}}),e("el-radio",{staticStyle:{"text-align":"center",width:"10%","font-size":"16px"},attrs:{label:"错误"}})],1),e("p",{staticClass:"item_aswer",staticStyle:{"text-align":"left"}},[e("span",{staticClass:"bingo"},[t._v(" 正确答案："+t._s(t.set_pan(n.row.answer))+" ")])])]):t._e(),2==n.row.type?e("div",[e("p",{staticClass:"flex_center_starts2 item_aswer"},t._l(n.row.options,(function(t){return e("el-checkbox",{attrs:{title:t.option+"."+t.content,label:t.option+"."+t.content}})})),1),e("p",{staticClass:"item_aswer",staticStyle:{"text-align":"left"}},[e("span",{staticClass:"bingo"},[t._v(" 正确答案："),t._l(n.row.answer,(function(n){return e("span",[t._v(" "+t._s(n))])}))],2)])]):t._e(),1==n.row.type?e("div",[e("p",{staticClass:"flex_center_starts2 item_aswer"},t._l(n.row.options,(function(t){return e("el-radio",{attrs:{title:t.option+"."+t.content,label:t.option+"."+t.content}})})),1),e("p",{staticClass:"item_aswer",staticStyle:{"text-align":"left"}},[e("span",{staticClass:"bingo"},[t._v(" 正确答案："),e("span",[t._v(t._s(n.row.answer[0]))])])])]):t._e()]}}],null,!1,2967513867)}),e("el-table-column",{attrs:{"reserve-selection":!0,type:"selection",width:"55"}})],1)],1):t._e(),e("div",{staticClass:"block qd-table",staticStyle:{"margin-top":"7px"}},[t.tableInfo.data.length>1?e("el-pagination",{attrs:{"current-page":t.currentPage_present,"page-size":20,layout:"prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage_present=e},"update:current-page":function(e){t.currentPage_present=e}}}):t._e()],1),t.tableInfo.data.length<1?e("div",{staticStyle:{wdith:"100%",color:"white",margin:"200px auto","text-align":"center"}},[e("br"),e("span",{staticClass:"zanwu",staticStyle:{color:"gray"}},[t._v(" 暂无数据")])]):t._e()],1),e("transition",{attrs:{name:"fade-transverse"}},[t.zhens?e("div",{staticClass:"bottoms flex_center_around"},[e("div",{staticClass:"rights_rights flex_center_around"},[e("el-button",{attrs:{type:"primary2"},on:{click:function(e){return t.set_paper()}}},[t._v("试卷预览")]),e("el-button",{attrs:{type:"primary2"},on:{click:function(e){return t.go_paper()}}},[t._v("提交试卷")])],1)]):t._e()]),e("qd-dialog",{attrs:{title:t.dialogInfo2.title,visible:t.dialogInfo2.visible,width:t.dialogInfo2.width,"bt-loading":t.dialogInfo2.btLoading,isOk:t.isok,nofooter:!0},on:{"update:visible":function(e){return t.$set(t.dialogInfo2,"visible",e)},handleOk:function(e){return t.submitFormhandle()},quxiao:function(e){return t.quxiao()}}},t._l(t.$store.state.d2admin.account.filters_list,(function(n,a){return e("div",{staticClass:"item_question"},[e("div",{staticClass:"icon_lds"}),e("p",{staticClass:"ques_content",staticStyle:{display:"flex"}},[e("span",{staticClass:"ques_type chaochu",staticStyle:{color:"black","text-align":"left"}},[t._v(" 【 "+t._s(t.setType(n.type))+" 】 ")]),e("span",{staticClass:"chaochu2",staticStyle:{width:"80%",color:"black","text-align":"left"}},[t._v(" "+t._s(a+1)+". "+t._s(n.content))])]),3==n.type?e("div",[e("p",{staticClass:"flex_center_around item_aswer"},[e("el-radio",{staticStyle:{"text-align":"center",width:"10%","font-size":"16px"},attrs:{label:"是"}}),e("el-radio",{staticStyle:{"text-align":"center",width:"10%","font-size":"16px"},attrs:{label:"否"}})],1)]):t._e(),2==n.type?e("div",[e("p",{staticClass:"flex_center_around item_aswer"},t._l(n.options,(function(t){return e("el-checkbox",{attrs:{label:t.option}})})),1)]):t._e(),1==n.type?e("div",[e("p",{staticClass:"flex_center_around item_aswer"},t._l(n.options,(function(t){return e("el-radio",{attrs:{label:t.option}})})),1)]):t._e()])})),0)],1)},i=[],s=(n("ed70"),n("9d95"),n("c7c8")),r={name:"paperDetail",data(){return{zhens:!1,dialogInfo2:{title:"试卷预览",visible:!1,width:"800px"},course:[{id:0,name:"全部"}],ability:[{id:0,name:"全部"}],judge:null,odd_num:null,even_num:null,activeName:"",paperId:0,formInline:{content:"",course_id:"",page:1,limit:10,degree:"",ability_id:"",type:""},filters:{content:"",course_id:"",page:1,limit:20,degree:"",ability_id:"",type:"",is_option:1},name:"",details:[],score:0,single_num:0,single_score:0,multi_num:0,multi_score:0,judge_num:0,judge_score:0,filters_list:[]}},created(){this.paperId=this.$route.query.paperId,this.getSearch(),this.getPaperQuestion(),Object(s["getcourse"])().then(t=>{200==t.code&&t.data.forEach(t=>{this.course.push(t)})}),Object(s["getability"])().then(t=>{200==t.code&&t.data.forEach(t=>{this.ability.push(t)})})},watch:{"$store.state.d2admin.account.filters_list"(t,e){},$route(t,e){t&&(console.log(t,"新的路由"),this.$store.state.d2admin.account.filters_list=[])}},computed:{set_points(){var t=0,e=0,n=0;if(this.$store.state.d2admin.account.filters_list.map(a=>{3==a.type&&(t+=1),2==a.type&&(n+=1),1==a.type&&(e+=1)}),this.judge=t,this.odd_num=e,this.even_num=n,this.total_s=3*this.judge+1*this.odd_num+2*this.even_num,this.total_s>100)return this.$message.warning("总分最大为100分"),this.zhens=!1,!1;100==this.total_s&&(this.zhens=!0),this.total_s<100&&(this.zhens=!1)}},methods:{go_paper(){let t=[];this.$store.state.d2admin.account.filters_list.map(e=>{t.push(e.id)}),Object(s["paperQuestion2"])(this.paperId,t).then(t=>{console.log(t,"是否提交成功")})},set_paper(){if(100!=this.total_s)return this.$message.warning("请确保总分为100分"),!1;100==this.total_s&&(this.dialogInfo2.visible=!0)},getkey(t){return t.id},del_item(t,e){console.log(this.$store.state.d2admin.account.filters_list[t].id,"删除数组id"),console.log(t,"删除数组角标"),console.log(e,"删除得数据");let n=[];this.$store.state.d2admin.account.filters_list.map(t=>{t.id!=e.id&&n.push(t)}),this.$nextTick(()=>{this.$refs.lds_new_table.toggleRowSelection(e,!1),this.$store.state.d2admin.account.filters_list=n,console.log(this.$store.state.d2admin.account.filters_list,"剩余数组")})},handleCurrentChange(t){this.filters.page=t,this.getSearch()},merge(t,e){t=[...t,...e],t=Array.from(new Set(t)),console.log(t)},handleSelectionChange(t){if(console.log(t,"执行了搜索x原始数据"),t){console.log("并且是已经选择过的——————————————————————");let e=t;e=e.flat(2),console.log(e,"xx2，降维之后得数据");let n={},a=e.reduce((t,e)=>(!n[e.id]&&(n[e.id]=t.push(e)),t),[]);console.log(a,"去重测试"),console.log(a,"newx首次去重之后得数据"),this.$store.state.d2admin.account.filters_list=a,console.log(this.$store.state.d2admin.account.filters_list,"当前得左侧数据")}},get_question(t){},set_pan(t){return"True"==t[0]?"正确":"错误"},set_duo(t){let e="";return t.map(t=>{e=t+" 、"}),e},setType(t){return 3==t?"判断题":2==t?"多选题":1==t?"单选题":void 0},setKey(){this.filters.content=this.formInline.content,this.filters.type=this.formInline.type||"0",this.filters.degree=this.formInline.degree||"0",this.filters.ability_id=this.formInline.ability_id||"0",this.filters.course_id=this.formInline.course_id||"0"},getSearch(){this.setKey(),Object(s["getquestion"])(this.filters).then(t=>{console.log(t,"11"),t.data.data?(this.tableInfo.data=t.data.data,this.$store.state.d2admin.account.filters_list.length>0&&this.$nextTick(()=>{console.log("执行赋值任务！！！！！")})):this.tableInfo.data=[],this.total=t.data.total})},getPaperQuestion(){Object(s["paperQuestion"])(this.paperId).then(t=>{console.log(t,"22"),200==t.code?(this.name=t.data.name,this.details=t.data.details,this.score=t.data.score,this.single_num=t.data.single_num,this.single_score=t.data.single_score,this.multi_num=t.data.multi_num,this.multi_score=t.data.multi_score,this.judge_num=t.data.judge_num,this.judge_score=t.data.judge_score):this.$message.error("系统异常")})}}},o=r,l=(n("f393"),n("e607")),c=function(t){t.options.__source="src/views/exam/paperDetail.vue"},u=c,d=Object(l["a"])(o,a,i,!1,null,"17b9d71c",null);"function"===typeof u&&u(d);e["default"]=d.exports},"73e0":function(t,e,n){var a=n("ecb5"),i=n("79e9"),s=n("84a1"),r=n("600f"),o=TypeError,l=function(t){return function(e,n,l,c){a(n);var u=i(e),d=s(u),p=r(u),f=t?p-1:0,_=t?-1:1;if(l<2)while(1){if(f in d){c=d[f],f+=_;break}if(f+=_,t?f<0:p<=f)throw o("Reduce of empty array with no initial value")}for(;t?f>=0:p>f;f+=_)f in d&&(c=n(c,d[f],f,u));return c}};t.exports={left:l(!1),right:l(!0)}},"9d95":function(t,e,n){"use strict";var a=n("65d6"),i=n("73e0").left,s=n("0a8a"),r=n("0bf4"),o=n("236f"),l=!o&&r>79&&r<83,c=l||!s("reduce");a({target:"Array",proto:!0,forced:c},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},ba21:function(t,e,n){},c7c8:function(t,e,n){"use strict";n.r(e),n.d(e,"new_agency",(function(){return i})),n.d(e,"new_agency2",(function(){return s})),n.d(e,"new_area",(function(){return r})),n.d(e,"new_area2",(function(){return o})),n.d(e,"process",(function(){return l})),n.d(e,"process2",(function(){return c})),n.d(e,"getagency",(function(){return u})),n.d(e,"process3",(function(){return d})),n.d(e,"target",(function(){return p})),n.d(e,"target2",(function(){return f})),n.d(e,"score",(function(){return _})),n.d(e,"detail",(function(){return m})),n.d(e,"dels",(function(){return h})),n.d(e,"puts",(function(){return g})),n.d(e,"getquestion",(function(){return b})),n.d(e,"getcourse",(function(){return y})),n.d(e,"getability",(function(){return v})),n.d(e,"postquestion",(function(){return x})),n.d(e,"putquestion",(function(){return w})),n.d(e,"deletequestion",(function(){return C})),n.d(e,"paperList",(function(){return j})),n.d(e,"paperDelete",(function(){return O})),n.d(e,"paperEdit",(function(){return S})),n.d(e,"paperRevoke",(function(){return $})),n.d(e,"paperCreate",(function(){return I})),n.d(e,"paperQuestion",(function(){return k})),n.d(e,"paperQuestion2",(function(){return q})),n.d(e,"getpaper",(function(){return z})),n.d(e,"postpaper",(function(){return E})),n.d(e,"getpapermine",(function(){return T})),n.d(e,"getresult",(function(){return D})),n.d(e,"getid",(function(){return P})),n.d(e,"get_look",(function(){return Q})),n.d(e,"top_one",(function(){return L}));var a=n("dd88");n("86ba");function i(t){return Object(a["a"])({url:"/api/agency/",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/api/agency/",method:"get"})}function r(t){return Object(a["a"])({url:"/api/system/area/?code=100000",method:"get"})}function o(t){return Object(a["a"])({url:"/api/system/area/?code="+t,method:"get"})}function l(t){return Object(a["a"])({url:"/api/agency/process/",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/api/agency/process/",method:"get",params:t})}function u(t){return Object(a["a"])({url:`/api/agency/${t}/`,method:"get"})}function d(t){return Object(a["a"])({url:"/api/agency/process/",method:"put",params:t})}function p(t){return Object(a["a"])({url:"/api/agency/target/",method:"get",params:t})}function f(t){return Object(a["a"])({url:"/api/agency/target/",method:"post",data:t})}function _(t){return Object(a["a"])({url:"/api/agency/target/score/",method:"get",params:t})}function m(t){return Object(a["a"])({url:`/api/agency/process/detail/${t}/`,method:"get"})}function h(t){return Object(a["a"])({url:`/api/agency/${t}/`,method:"DELETE"})}function g(t){return Object(a["a"])({url:`/api/agency/${t}/`,method:"put"})}function b(t){return Object(a["a"])({url:"/api/exam/question/",method:"get",params:t})}function y(t){return Object(a["a"])({url:"/api/exam/course/",method:"get"})}function v(t){return Object(a["a"])({url:"/api/exam/ability/",method:"get"})}function x(t){return Object(a["a"])({url:"/api/exam/question/",method:"post",data:t})}function w(t,e){return Object(a["a"])({url:"/api/exam/question/"+t+"/",method:"put",data:e})}function C(t){return Object(a["a"])({url:`/api/exam/question/${t}/`,method:"DELETE"})}function j(t){return Object(a["a"])({url:"/api/exam/paper/",method:"get",params:t})}function O(t){return Object(a["a"])({url:`/api/exam/paper/${t}/`,method:"delete"})}function S(t,e){return Object(a["a"])({url:`/api/exam/paper/${t}/`,method:"put",data:e})}function $(t,e){return Object(a["a"])({url:`/api/exam/paper/${t}/`,method:"patch",data:e})}function I(t){return Object(a["a"])({url:"/api/exam/paper/",method:"post",data:t})}function k(t,e){return Object(a["a"])({url:`/api/exam/paper_question/${t}/`,method:"get",params:e})}function q(t,e){return Object(a["a"])({url:`/api/exam/paper_question/${t}/`,method:"put",data:e})}function z(){return Object(a["a"])({url:"/api/exam/paper/",method:"get"})}function E(t,e){return Object(a["a"])({url:`/api/exam/mine/${t}/`,method:"post",data:e})}function T(){return Object(a["a"])({url:"/api/exam/mine/",method:"get"})}function D(t){return Object(a["a"])({url:`/api/exam/result/${t}/`,method:"get"})}function P(t){return Object(a["a"])({url:"/api/exam/mine/",method:"post",data:t})}function Q(t){return Object(a["a"])({url:`/api/exam/mine/${t}/`,method:"get"})}function L(t){return Object(a["a"])({url:`/api/exam/paper_score/${t}/`,method:"get"})}},f393:function(t,e,n){"use strict";n("ba21")}}]);