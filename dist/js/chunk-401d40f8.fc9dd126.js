(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-401d40f8","chunk-2d217c1d"],{"287d":function(e,t,s){},3016:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("d2-container",[t("div",{staticClass:"Aone-page",staticStyle:{overflow:"auto"}},[t("p",{staticStyle:{color:"gray",cursor:"pointer"}},[e._v("机构评测 > "),t("span",{on:{click:function(t){return e.goback2()}}},[e._v(" 我的机构 ")]),e._v(" > "),t("span",{on:{click:function(t){return e.goback()}}},[e._v(" 我的评测")]),e._v(" > "),"cha"!=e.sta?t("span",{staticStyle:{color:"black"}},[e._v("开始评测")]):e._e(),e._v(" "),"cha"==e.sta?t("span",{staticStyle:{color:"black"}},[e._v("查看评测")]):e._e()]),t("br"),t("br"),t("div",{staticClass:"heads"},[t("p"),t("h1",{staticClass:"size20_weights"},[e._v(" 一个事件 ")]),t("p"),t("br"),t("br"),t("p",{staticStyle:{color:"gray"}},[e._v(" 试卷说明：本次测评共一类大题，40个小题。 ")])]),t("br"),t("br"),t("br"),t("div",{staticClass:"body-lefts"},[e._l(e.all_sbu,(function(s){return t("div",[t("p",{staticClass:"size20_weights"},[e._v("一. "+e._s(s.name))]),t("br"),e._l(s.sub,(function(s,a){return t("div",[t("p",{staticClass:"size20_weights",staticStyle:{"padding-left":"20px"}},[e._v(e._s(a+1)+". "+e._s(s.name))]),e._l(s.sub,(function(s,a){return t("div",{staticClass:"flex_center_starts2",staticStyle:{width:"100%"}},[t("p",{staticClass:"size16_weights width60 flex_center_starts2",staticStyle:{"margin-left":"30px"}},[t("span",{staticClass:"jiaobiao",staticStyle:{"margin-right":"20px"}},[e._v(e._s(a+1))]),e._v(" "+e._s(s.name)+" ("+e._s(s.score)+"分) ")]),t("p",[t("el-input",{attrs:{disabled:"cha"==e.sta,onkeyup:"value=value.replace(/[^\\d]/g,'') ",onbeforepaste:"clipboardData.setData('text',clipboardData.getData('text').replace(/[^\\d]/g,''))",ID:"Text2",NAME:"Text2",max:"10",placeholder:"最大输入分数为10分"},on:{change:e.change,blur:e.change2},model:{value:s.point,callback:function(t){e.$set(s,"point",t)},expression:"item_test.point"}})],1)])}))],2)}))],2)})),t("br"),t("br"),t("br")],2),t("div",{staticClass:"body-rights"},[t("div",{staticClass:"dati"},[t("p",{staticClass:"flex_center_starts2"},[t("img",{attrs:{src:"/image/AOne/dao.png",alt:""}}),"cha"==e.sta?t("span",[e._v("评测用时")]):t("span",[e._v("计时")])]),t("br"),t("br"),"cha"==e.sta&&e.seconds?t("span",{staticClass:"times"},[e._v(" "+e._s(e.formatSeconds(e.seconds))+" ")]):t("span",{staticClass:"times"},[e._v(" "+e._s(e.one)),t("span",[e._v(":")]),e._v(" "+e._s(e.two)),t("span",[e._v(":")]),e._v(" "+e._s(e.three)+" ")])]),t("br"),t("br"),t("br"),t("div",{staticClass:"dati"},[t("p",{staticClass:"flex_center_starts2"},[t("img",{attrs:{src:"/image/AOne/tests.png",alt:""}}),t("span",[e._v("答题卡")])]),t("br"),t("br"),t("p"),e._l(e.all_sbu,(function(s){return t("p",e._l(s.sub,(function(s,a){return t("span",[t("p",{staticClass:"size20_weights",staticStyle:{"text-align":"left"}},[e._v(e._s(a+1)+". "+e._s(s.name)+" "),t("span",{staticClass:"ends"},[e._v("（共4题，合计40分）")])]),e._l(s.sub,(function(s,a){return t("span",[t("span",{staticStyle:{"margin-left":"20px"}}),e._v(" "),t("span",{class:e.setClass(s.point)?"done":"doing"},[e._v(e._s(a+1))])])}))],2)})),0)})),t("p"),t("br"),t("p",{staticStyle:{width:"100%",border:"1px solid #E8E8E8"}}),t("p",{staticClass:"flex_center_starts2",staticStyle:{"text-align":"left","margin-top":"20px",width:"60%"}},[t("span",{staticClass:"tuli"}),t("span",{staticClass:"tuli2"},[e._v("已答")]),t("span",{staticClass:"tuli",staticStyle:{background:"white",border:"1px solid #E8E8E8"}}),t("span",{staticClass:"tuli2"},[e._v("未做")])]),t("br"),t("br"),t("p",{staticClass:"flex_center_center",staticStyle:{"text-align":"center"}},["cha"!=e.sta?t("el-button",{attrs:{type:"primary_test"},on:{click:function(t){return e.go_points()}}},[e._v("提交试卷")]):e._e(),"cha"==e.sta?t("el-button",{attrs:{type:"primary_test"},on:{click:function(t){return e.go_points2()}}},[e._v("重新评测")]):e._e()],1)],2)])])])},n=[],i=(s("ed70"),s("c7a4")),r={name:"mine",inject:["routerRefresh"],data(){return{seconds:"",warings:!1,flag:null,one:"00",two:"00",three:"00",abc:0,cde:0,efg:0,new_time:"",all_sbu:[{name:"安全事件分析能力",level:2,sub:[{name:"历史事件溯源能力",level:3,sub:[{name:"完成公司、子公司级历史事件溯源机制构建",level:4,id:13,score:10,points:"",real_score:7},{name:"完成公司、子公司级历史事件溯源效能考核体系建设",level:4,id:23,score:10,points:""},{name:"完成公司、子公司级历史事件溯源防御韧性建设",level:4,id:33,score:10,points:""},{name:"完成公司、子公司级历史事件溯源业务覆盖程度",level:4,id:43,score:10,points:""}]},{name:"境外服务能力",level:3,sub:[{name:"完成公司、子公司级境外服务机制构建",level:4,id:14,score:10,real_score:3,points:""},{name:"完成公司、子公司级境外服务效能考核体系建设",level:4,id:24,score:10,points:""},{name:"完成公司、子公司级境外服务防御韧性建设",level:4,id:34,score:10,points:""},{name:"完成公司、子公司级境外服务业务覆盖程度",level:4,id:44,score:10,points:""}]},{name:"省域安全建设能力",level:3,sub:[{name:"完成公司、子公司级省域安全建设机制构建",level:4,id:15,score:10,real_score:4,points:""},{name:"完成公司、子公司级省域安全建设效能考核体系建设",level:4,id:25,score:10,points:""},{name:"完成公司、子公司级省域安全建设防御韧性建设",level:4,id:35,score:10,points:""},{name:"完成公司、子公司级省域安全建设业务覆盖程度",level:4,id:45,score:10,points:""}]},{name:"热点事件跟踪能力",level:3,sub:[{name:"完成公司、子公司级热点事件跟踪机制构建",level:4,id:16,score:10,real_score:5,points:""},{name:"完成公司、子公司级热点事件跟踪效能考核体系建设",level:4,id:26,score:10,points:""},{name:"完成公司、子公司级热点事件跟踪防御韧性建设",level:4,id:36,score:10,points:""},{name:"完成公司、子公司级热点事件跟踪业务覆盖程度",level:4,id:46,score:10,points:""}]},{name:"未来趋势研判能力",level:3,sub:[{name:"完成公司、子公司级未来趋势研判机制构建",level:4,id:17,score:10,real_score:10,points:""},{name:"完成公司、子公司级未来趋势研判效能考核体系建设",level:4,id:27,score:10,points:""},{name:"完成公司、子公司级未来趋势研判防御韧性建设",level:4,id:37,score:10,points:""},{name:"完成公司、子公司级未来趋势研判业务覆盖程度",level:4,id:47,score:10,points:""}]},{name:"高级理念构建能力",level:3,sub:[{name:"完成公司、子公司级高级理念迭代机制构建",level:4,id:18,score:10,points:"",real_score:8},{name:"完成公司、子公司级高级理念迭代效能考核体系建设",level:4,id:28,points:"",score:10},{name:"完成公司、子公司级高级理念迭代防御韧性建设",level:4,id:38,points:"",score:10},{name:"完成公司、子公司级高级理念迭代业务覆盖程度",level:4,id:48,points:"",score:10}]},{name:"关键人物理论挖掘、追溯能力",level:3,sub:[{name:"完成公司、子公司关键人物理论挖掘、追溯机制构建",level:4,id:19,score:10,points:"",real_score:7},{name:"完成公司、子公司关键人物理论挖掘、追溯效能考核体系建设",level:4,id:29,points:"",score:10},{name:"完成公司、子公司关键人物理论挖掘、追溯防御韧性建设",level:4,id:39,points:"",score:10},{name:"完成公司、子公司关键人物理论挖掘、追溯业务覆盖程度",level:4,id:49,points:"",score:10}]},{name:"其他行业辐射影响力",level:3,sub:[{name:"完成公司、子公司跨行业辐射影响力机制构建",level:4,id:20,score:10,points:"",real_score:6},{name:"完成公司、子公司跨行业辐射影响力效能考核体系建设",level:4,id:30,points:"",score:10},{name:"完成公司、子公司跨行业辐射影响力防御韧性建设",level:4,id:40,points:"",score:10},{name:"完成公司、子公司跨行业辐射影响力业务覆盖程度",level:4,id:50,points:"",score:10}]},{name:"重点企业辐射影响力",level:3,sub:[{name:"完成公司、子公司重点企业辐射影响力机制构建",level:4,id:21,score:10,points:"",real_score:9},{name:"完成公司、子公司重点企业辐射影响力效能考核体系建设",level:4,id:31,points:"",score:10},{name:"完成公司、子公司重点企业辐射影响力防御韧性建设",level:4,id:41,points:"",score:10},{name:"完成公司、子公司重点企业辐射影响力业务覆盖程度",level:4,id:51,points:"",score:10}]},{name:"基于事件的技术迭代能力",level:3,sub:[{name:"完成公司、子公司基于事件的技术迭代机制构建",level:4,id:22,score:10,points:"",real_score:2},{name:"完成公司、子公司基于事件的技术迭代效能考核体系建设",level:4,id:32,points:"",score:10},{name:"完成公司、子公司基于事件的技术迭代防御韧性建设",level:4,id:42,points:"",score:10},{name:"完成公司、子公司基于事件的技术迭代业务覆盖程度",level:4,id:52,points:"",score:10}]}]}],ins:{},next:!0,head_list:[{name:"认证机构总数",num:"",src:"/image/AOne/count.png"},{name:"已通过审核",num:"",src:"/image/AOne/ok.png"},{name:"审核中",num:"",src:"/image/AOne/ing.png"},{name:"审核未通过",num:"",src:"/image/AOne/rejucet.png"}],body_list:[],miao:0,visible:!1,top:0,left:0,shangwei:!1,sta:""}},created(){this.startHandler(),this.sta=this.$route.query.sta;let e={agency_id:this.$route.query.agency_id,target_id:this.$route.query.target_id};"cha"==this.sta?Object(i["target"])(e).then(e=>{this.seconds=e.data.use_time,this.all_sbu=e.data.target_info.sub,this.all_sbu.map(e=>{e.sub.map(e=>{e.sub.map(e=>{e.point=e.real_score})})})}):Object(i["target"])(e).then(e=>{this.all_sbu=e.data.target_info.sub})},methods:{goback(){this.$router.push({path:"/agency/mine_manager",query:{id:this.$route.query.agency_id}})},goback2(){this.$router.go(-2)},formatSeconds(e){let t=parseInt(e),s=0,a=0;t>60&&(s=parseInt(t/60),t=parseInt(t%60),s>60&&(a=parseInt(s/60),s=parseInt(s%60)));let n=parseInt(t)+" 秒 ";return s>0&&(n=parseInt(s)+" 分 "+n),a>0&&(n=parseInt(a)+" 小时 "+n),n},startHandler(){this.flag=setInterval(()=>{let e=0;e+=1,this.miao+=1,60===this.three||"60"===this.three?(this.three="00",this.abc=0,60===this.two||"60"===this.two?(this.two="00",this.cde=0,this.efg+1<=9?(this.efg++,this.one="0"+this.efg):(this.efg++,this.one=this.efg)):this.cde+1<=9?(this.cde++,this.two="0"+this.cde):(this.cde++,this.two=this.cde)):this.abc+1<=9?(this.abc++,this.three="0"+this.abc):(this.abc++,this.three=this.abc)},1e3)},endHandler(){this.flag=clearInterval(this.flag)},go_points(){this.endHandler(),this.new_time=this.miao;let e=this.all_sbu[0].sub,t=[];e.map(e=>{e.sub.length>0&&e.sub.map(e=>{t.push({target_id:e.id,score:e.point})})}),t.map(e=>{e.score=parseInt(e.score)});let s={agency_id:this.$route.query.agency_id,use_time:this.new_time,target_list:t,target_id:this.$route.query.target_id,ti:"1"};this.bianli(s.target_list),this.shangwei?this.$message.warning("尚未完成全部评测题目！"):Object(i["target2"])(s).then(e=>{200==e.code?(this.$message.success(e.message),this.$router.push({path:"/agency/end",query:{agency_id:this.$route.query.agency_id,target_id:this.$route.query.target_id,ti:1}})):this.$message.warning(e.message)})},go_points2(){this.$router.push({path:"/agency/mine_manager_test",query:{agency_id:this.$route.query.agency_id,target_id:this.$route.query.target_id,sta:"s"}})},bianli(e){e.map(e=>{e.score||(this.shangwei=!0),NaN==e.score&&(this.shangwei=!0),e.score&&(this.shangwei=!1)})},setClass(e){return""!=e},change(e){e>10&&(this.$message.warning("最多10分"),e="")},change2(e){e>10&&(this.$message.warning("最多10分"),e="")},onlyNumber(e){var t=e.value.charAt(0);e.value=e.value.replace(/[^\d\.]/g,""),e.value=e.value.replace(/^\./g,""),e.value=e.value.replace(/\.{2,}/g,"."),e.value=e.value.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t>10&&alert("10"),"-"==t&&(e.value="-"+e.value)},getTime(e){var t=new Date(1e3*parseInt(e)),s=t.getFullYear(),a=t.getMonth()+1,n=t.getDate();return a=1==a.toString().length?"0"+a:a,n=1==n.toString().length?"0"+n:n,s+"-"+a+"-"+n+" "},go_any(){this.$router.push({path:"/agency/mine/add"})},openMenu(e,t){var s=e.pageX,a=e.pageY;this.top=a,this.left=s,this.visible=!0},closeMenu(){this.visible=!1}},watch:{warings(e,t){if(e)return this.$message.waring("请完整答题！"),!1},$route(e,t){this.routerRefresh()}}},c=r,l=(s("5e4d"),s("e607")),o=function(e){e.options.__source="src/views/agency/mine_manager_test.vue"},u=o,p=Object(l["a"])(c,a,n,!1,null,"015d4b4e",null);"function"===typeof u&&u(p);t["default"]=p.exports},"5e4d":function(e,t,s){"use strict";s("287d")},c7a4:function(e,t,s){"use strict";s.r(t),s.d(t,"new_agency",(function(){return n})),s.d(t,"new_agency2",(function(){return i})),s.d(t,"new_area",(function(){return r})),s.d(t,"new_area2",(function(){return c})),s.d(t,"process",(function(){return l})),s.d(t,"process2",(function(){return o})),s.d(t,"getagency",(function(){return u})),s.d(t,"process3",(function(){return p})),s.d(t,"target",(function(){return d})),s.d(t,"target2",(function(){return g})),s.d(t,"score",(function(){return h})),s.d(t,"detail",(function(){return m})),s.d(t,"dels",(function(){return _})),s.d(t,"editAgency",(function(){return v}));var a=s("dd88");s("86ba");function n(e){return Object(a["a"])({url:"/api/agency/",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/api/agency/",method:"get"})}function r(e){return Object(a["a"])({url:"/api/system/area/?code=100000",method:"get"})}function c(e){return Object(a["a"])({url:"/api/system/area/?code="+e,method:"get"})}function l(e){return Object(a["a"])({url:"/api/agency/process/",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/api/agency/process/",method:"get",params:e})}function u(e){return Object(a["a"])({url:`/api/agency/${e}/`,method:"get"})}function p(e){return Object(a["a"])({url:"/api/agency/process/",method:"put",params:e})}function d(e){return Object(a["a"])({url:"/api/agency/target/",method:"get",params:e})}function g(e){return Object(a["a"])({url:"/api/agency/target/",method:"post",data:e})}function h(e){return Object(a["a"])({url:"/api/agency/target/score/",method:"get",params:e})}function m(e){return Object(a["a"])({url:`/api/agency/process/detail/${e}/`,method:"get"})}function _(e){return Object(a["a"])({url:`/api/agency/${e}/`,method:"DELETE"})}function v(e,t){return Object(a["a"])({url:`/api/agency/${t}/`,method:"put",data:e})}}}]);