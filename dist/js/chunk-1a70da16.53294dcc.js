(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a70da16","chunk-2d217c5f"],{"4ef1":function(t,e,n){},"88b6":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("d2-container",[e("div",{staticClass:"Aone-page",staticStyle:{overflow:"auto"}},[e("p",{staticStyle:{color:"gray",cursor:"pointer"}},[t._v("等级考试 > "),e("span",{on:{click:function(e){return t.goback2()}}},[t._v(" "+t._s(t.lastTitle)+" ")]),t._v(" > "),e("span",{staticStyle:{color:"black"}},[t._v("在线评测")])]),e("br"),e("br"),e("div",{staticClass:"heads"},[e("p"),e("h1",{staticClass:"size20_weights"},[t._v(" "+t._s(t.name)+" ")]),e("p"),e("br"),e("p",{staticStyle:{color:"gray"}},[t._v(" 试卷说明： 本次测评单选题"+t._s(t.single_num)+"个，共"+t._s(t.single_num)+"分，多选题"+t._s(t.multi_num)+"个，共"+t._s(t.multi_score)+"分，判断题"+t._s(t.judge_num)+"个，共"+t._s(t.judge_score)+"分。 ")])]),e("br"),e("br"),e("br"),e("div",{staticClass:"body-lefts"},[t._l(t.all_question,(function(n,a){return e("div",[e("p",{staticClass:"size18_weights"},[e("span",{staticClass:"dabiaoti"},[t._v(t._s(a+1)+". "+t._s(n.question.content))])]),t._l(n.question.options,(function(a,i){return e("div",[1==n.question.type?e("div",{staticClass:"option-wrap"},[e("el-radio",{staticClass:"new_radio2",attrs:{label:a.option},model:{value:n.point,callback:function(e){t.$set(n,"point",e)},expression:"item.point"}},[t._v(t._s(a.content)+" ")])],1):t._e(),2==n.question.type?e("div",[e("el-checkbox",{staticClass:"new_radio2",attrs:{label:a.option},model:{value:n.point,callback:function(e){t.$set(n,"point",e)},expression:"item.point"}},[t._v(t._s(a.content)+" ")])],1):t._e(),3==n.question.type?e("div",[e("el-radio",{staticClass:"new_radio2",attrs:{label:a},model:{value:n.point,callback:function(e){t.$set(n,"point",e)},expression:"item.point"}},[t._v(t._s(a.content)+" ")])],1):t._e()])})),e("el-divider")],2)})),e("p",{staticClass:"pointer",staticStyle:{"text-align":"center",color:"#0a87b6"}},[t.jiazai?e("span",{on:{click:function(e){return t.add_list()}}},[t._v(" 点击加载更多")]):t._e(),t.jiazai?t._e():e("span",[e("i",{staticClass:"el-icon-check"}),t._v(" 加载完毕")])]),e("br"),e("br"),e("br")],2),e("div",{staticClass:"body-rights"},[e("div",{staticClass:"dati"},[e("p",{staticClass:"flex_center_starts2"},[e("img",{attrs:{src:"/image/AOne/dao.png",alt:""}}),"cha"==t.sta?e("span",[t._v("评测用时")]):e("span",[t._v("计时")])]),e("br"),e("br"),"cha"==t.sta&&t.seconds?e("span",{staticClass:"times"},[t._v(" "+t._s(t.formatSeconds(t.seconds))+" ")]):e("span",{staticClass:"times"},[t._v(" "+t._s(t.one)),e("span",[t._v(":")]),t._v(" "+t._s(t.two)),e("span",[t._v(":")]),t._v(" "+t._s(t.three)+" ")])]),e("br"),e("br"),e("br"),e("div",{staticClass:"dati",staticStyle:{"max-height":"400px"}},[e("p",{staticClass:"flex_center_starts2"},[e("img",{attrs:{src:"/image/AOne/tests.png",alt:""}}),e("span",[t._v("答题卡")])]),e("br"),e("br"),e("div",t._l(t.all_question,(function(n,a){return e("span",{staticStyle:{"margin-left":"20px"}},[e("span",{class:t.setClass(n.point)?"done":"doing",staticStyle:{width:"30px"}},[t._v(t._s(a+1))])])})),0),e("br"),e("p",{staticStyle:{width:"100%",border:"1px solid #E8E8E8"}}),e("p",{staticClass:"flex_center_starts2",staticStyle:{"text-align":"left","margin-top":"20px",width:"60%"}},[e("span",{staticClass:"tuli"}),e("span",{staticClass:"tuli2"},[t._v("已答")]),e("span",{staticClass:"tuli",staticStyle:{background:"white",border:"1px solid #E8E8E8"}}),e("span",{staticClass:"tuli2"},[t._v("未做")])]),e("br"),e("br"),e("p",{staticClass:"flex_center_center",staticStyle:{"text-align":"center"}},["cha"!=t.sta?e("el-button",{attrs:{type:"primary_test"},on:{click:function(e){return t.go_points()}}},[t._v("提交试卷")]):t._e()],1)])])])])},i=[],s=(n("ed70"),n("c7c8")),r={name:"mine",inject:["routerRefresh"],data(){return{jiazai:!0,all_count:0,exam_id:"",paperId:"",lastTitle:"",total_count:"",warings:!1,flag:null,one:"00",two:"00",three:"00",abc:0,cde:0,efg:0,new_time:"",all_sbu:[],ins:{},next:!0,head_list:[{name:"认证机构总数",num:"",src:"/image/AOne/count.png"},{name:"已通过审核",num:"",src:"/image/AOne/ok.png"},{name:"审核中",num:"",src:"/image/AOne/ing.png"},{name:"审核未通过",num:"",src:"/image/AOne/rejucet.png"}],body_list:[],miao:0,visible:!1,top:0,left:0,shangwei:!1,sta:"",seconds:"",name:"",details:"",score:"",single_num:"",single_score:"",multi_num:"",multi_score:"",judge_num:"",judge_score:"",all_question:[],all_question_copy:[],all_question2:[]}},created(){this.startHandler(),this.sta=this.$route.query.sta,this.lastTitle=this.$route.query.title,1==this.$route.query.state?(this.paperId=this.$route.query.id,Object(s["getid"])({paper_id:this.paperId}).then(t=>{this.exam_id=t.data})):(this.exam_id=this.$route.query.exam_id,this.paperId=this.$route.query.paper_id),this.getPaperQuestion()},methods:{getNewArray(t,e){const n=Math.ceil(t.length/e,10);let a=0,i=0;const s=[];while(a<n)s[a]=t.slice(i,e+i),i+=e,a++;this.all_question2=s,console.log(this.all_question2,"all_question2")},add_list(){this.all_count+=1,this.all_count==this.all_question2.length&&(this.jiazai=!1),this.all_question=[...this.all_question,...this.all_question2[this.all_count]],console.log("添加数据",this.all_count),console.log("添加数据all_question2",this.all_question2[this.all_count]),console.log("添加数据all_question",this.all_question)},setClass(t){return""!=t},getPaperQuestion(){Object(s["paperQuestion"])(this.paperId,{limit:100}).then(t=>{if(console.log(t,"22"),200==t.code){this.name=t.data.name,this.details=t.data.details,this.score=t.data.score,this.single_num=t.data.single_num,this.single_score=t.data.single_score,this.multi_num=t.data.multi_num,this.multi_score=t.data.multi_score,this.judge_num=t.data.judge_num,this.judge_score=t.data.judge_score;var e=t.data.details;e.map(t=>{1==t.question.type&&(t.point=[]),2==t.question.type&&(t.point=[]),3==t.question.type&&(t.point=[],t.question.options=["是","否"])}),this.all_question_copy=e,this.all_question=e.slice(0,10),console.log(this.all_question,"all_question"),console.log(this.all_question_copy,"all_question_copy"),this.getNewArray(this.all_question_copy,10)}else this.$message.error("系统异常")})},formatSeconds(t){let e=parseInt(t),n=0,a=0;e>60&&(n=parseInt(e/60),e=parseInt(e%60),n>60&&(a=parseInt(n/60),n=parseInt(n%60)));let i=parseInt(e)+" 秒 ";return n>0&&(i=parseInt(n)+" 分 "+i),a>0&&(i=parseInt(a)+" 小时 "+i),i},goback(){this.$router.push({path:"/agency/mine_manager",query:{id:this.$route.query.agency_id}})},goback2(){this.$router.go(-1)},startHandler(){this.flag=setInterval(()=>{let t=0;t+=1,this.miao+=1,60===this.three||"60"===this.three?(this.three="00",this.abc=0,60===this.two||"60"===this.two?(this.two="00",this.cde=0,this.efg+1<=9?(this.efg++,this.one="0"+this.efg):(this.efg++,this.one=this.efg)):this.cde+1<=9?(this.cde++,this.two="0"+this.cde):(this.cde++,this.two=this.cde)):this.abc+1<=9?(this.abc++,this.three="0"+this.abc):(this.abc++,this.three=this.abc)},1e3)},endHandler(){this.flag=clearInterval(this.flag)},go_points(){this.endHandler(),this.new_time=this.miao;let t=[];this.all_question.map(e=>{e.point&&t.push({question_id:e.question.id,answer:[e.point]})}),t.map(t=>{t.answer=t.answer.flat()}),this.bianli(t)?Object(s["postpaper"])(this.exam_id,{records:t}).then(t=>{200==t.code?(this.$message.success(t.message),this.$router.push({path:"/exam/mine/end",query:{exam_id:this.exam_id,paper_id:this.paperId,title:this.lastTitle}})):this.$message.warning(t.message)}):(this.$message.warning("尚未完成全部评测题目！3秒后请重新作答"),setTimeout(()=>{},3e3))},bianli(t){t.some(t=>{t.answer.length})},setClass(t){return""!=t},getTime(t){var e=new Date(1e3*parseInt(t)),n=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();return a=1==a.toString().length?"0"+a:a,i=1==i.toString().length?"0"+i:i,n+"-"+a+"-"+i+" "}},watch:{$route(t,e){this.routerRefresh()}}},o=r,u=(n("e250"),n("e607")),c=function(t){t.options.__source="src/views/exam/test_paper.vue"},l=c,p=Object(u["a"])(o,a,i,!1,null,"b78f7d42",null);"function"===typeof l&&l(p);e["default"]=p.exports},c7c8:function(t,e,n){"use strict";n.r(e),n.d(e,"new_agency",(function(){return i})),n.d(e,"new_agency2",(function(){return s})),n.d(e,"new_area",(function(){return r})),n.d(e,"new_area2",(function(){return o})),n.d(e,"process",(function(){return u})),n.d(e,"process2",(function(){return c})),n.d(e,"getagency",(function(){return l})),n.d(e,"process3",(function(){return p})),n.d(e,"target",(function(){return d})),n.d(e,"target2",(function(){return h})),n.d(e,"score",(function(){return _})),n.d(e,"detail",(function(){return m})),n.d(e,"dels",(function(){return g})),n.d(e,"puts",(function(){return f})),n.d(e,"getquestion",(function(){return b})),n.d(e,"getcourse",(function(){return y})),n.d(e,"getability",(function(){return q})),n.d(e,"postquestion",(function(){return v})),n.d(e,"putquestion",(function(){return j})),n.d(e,"deletequestion",(function(){return x})),n.d(e,"paperList",(function(){return w})),n.d(e,"paperDelete",(function(){return O})),n.d(e,"paperEdit",(function(){return $})),n.d(e,"paperRevoke",(function(){return C})),n.d(e,"paperCreate",(function(){return k})),n.d(e,"paperQuestion",(function(){return I})),n.d(e,"paperQuestion2",(function(){return S})),n.d(e,"getpaper",(function(){return E})),n.d(e,"postpaper",(function(){return A})),n.d(e,"getpapermine",(function(){return T})),n.d(e,"getresult",(function(){return z})),n.d(e,"getid",(function(){return D})),n.d(e,"get_look",(function(){return Q})),n.d(e,"top_one",(function(){return H}));var a=n("dd88");n("86ba");function i(t){return Object(a["a"])({url:"/api/agency/",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/api/agency/",method:"get"})}function r(t){return Object(a["a"])({url:"/api/system/area/?code=100000",method:"get"})}function o(t){return Object(a["a"])({url:"/api/system/area/?code="+t,method:"get"})}function u(t){return Object(a["a"])({url:"/api/agency/process/",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/api/agency/process/",method:"get",params:t})}function l(t){return Object(a["a"])({url:`/api/agency/${t}/`,method:"get"})}function p(t){return Object(a["a"])({url:"/api/agency/process/",method:"put",params:t})}function d(t){return Object(a["a"])({url:"/api/agency/target/",method:"get",params:t})}function h(t){return Object(a["a"])({url:"/api/agency/target/",method:"post",data:t})}function _(t){return Object(a["a"])({url:"/api/agency/target/score/",method:"get",params:t})}function m(t){return Object(a["a"])({url:`/api/agency/process/detail/${t}/`,method:"get"})}function g(t){return Object(a["a"])({url:`/api/agency/${t}/`,method:"DELETE"})}function f(t){return Object(a["a"])({url:`/api/agency/${t}/`,method:"put"})}function b(t){return Object(a["a"])({url:"/api/exam/question/",method:"get",params:t})}function y(t){return Object(a["a"])({url:"/api/exam/course/",method:"get"})}function q(t){return Object(a["a"])({url:"/api/exam/ability/",method:"get"})}function v(t){return Object(a["a"])({url:"/api/exam/question/",method:"post",data:t})}function j(t,e){return Object(a["a"])({url:"/api/exam/question/"+t+"/",method:"put",data:e})}function x(t){return Object(a["a"])({url:`/api/exam/question/${t}/`,method:"DELETE"})}function w(t){return Object(a["a"])({url:"/api/exam/paper/",method:"get",params:t})}function O(t){return Object(a["a"])({url:`/api/exam/paper/${t}/`,method:"delete"})}function $(t,e){return Object(a["a"])({url:`/api/exam/paper/${t}/`,method:"put",data:e})}function C(t,e){return Object(a["a"])({url:`/api/exam/paper/${t}/`,method:"patch",data:e})}function k(t){return Object(a["a"])({url:"/api/exam/paper/",method:"post",data:t})}function I(t,e){return Object(a["a"])({url:`/api/exam/paper_question/${t}/`,method:"get",params:e})}function S(t,e){return Object(a["a"])({url:`/api/exam/paper_question/${t}/`,method:"put",data:e})}function E(){return Object(a["a"])({url:"/api/exam/paper/",method:"get"})}function A(t,e){return Object(a["a"])({url:`/api/exam/mine/${t}/`,method:"post",data:e})}function T(){return Object(a["a"])({url:"/api/exam/mine/",method:"get"})}function z(t){return Object(a["a"])({url:`/api/exam/result/${t}/`,method:"get"})}function D(t){return Object(a["a"])({url:"/api/exam/mine/",method:"post",data:t})}function Q(t){return Object(a["a"])({url:`/api/exam/mine/${t}/`,method:"get"})}function H(t){return Object(a["a"])({url:`/api/exam/paper_score/${t}/`,method:"get"})}},e250:function(t,e,n){"use strict";n("4ef1")}}]);